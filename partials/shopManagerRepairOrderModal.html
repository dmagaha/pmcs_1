<div class="modal shopManagerAssignModal" data-ng-class="{ fade: currentUser.options.showAnimations }" tabindex="-1" role="dialog" aria-labelledby="frontDeskRepairOrderLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" id="add" data-ng-controller="RepairOrderFormFrontDeskCtrl">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true" class="fa fa-times"></span>
                    <span class="sr-only">Close</span>
                </button>
                <h3 class="modal-title" id="shopManagerAssignLabel">
                    {{ checkInFormData.repairOrderNumber }} Assignment
                </h3>
                <!--<h3 class="modal-title" id="shopManagerAssignLabel">Shop Manager Assignment</h3>-->
            </div>
            <div class="modal-body">
		<div class="view-item-details" style="background-color: #ececec">
                    <div class="col-md-8 text-left">
                        <p>Team: <strong>{{ teamNames[checkInFormData.team-1].name }}</strong></p>
                    </div>
                    <div class="col-md-4 text-left">
                        <p>Owner: <strong>{{ checkInFormData.name }}</strong></p>
                    </div>
                    <div class="col-md-12 text-left">
                        <p>Car: <strong>{{ checkInFormData.year }} {{ checkInFormData.color }} {{ checkInFormData.make }} {{ checkInFormData.model }}</strong></p>
                    </div>
                    <div class="col-md-4 text-left">
                        <p>Body Days: <strong>{{ checkInFormData.bodyDays }}</strong></p>
                    </div>
                    <div class="col-md-4 text-left">
                        <p>Refinish Days: <strong>{{ checkInFormData.refinishDays }}</strong></p>
                    </div>
                    <div class="col-md-4 text-left">
                        <p>Service Days: <strong>{{ checkInFormData.serviceDays }}</strong></p>
                    </div>

                    <div class="clearfix"></div>
                    <div class="col-md-12 text-left">
                    <div class="table-responsive">
                        <table class="table">
                                <thead>
                                <tr>
                                        <th>Tech Name</th>
                                        <th>Current Allocation</th>
                                        <th>Maximum Allocation</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="tech in techs">
                                        <td>{{ tech.name }}</td>
                                        <td>{{ tech.current_workload }}</td>
                                        <td>{{ tech.max_workload }}</td>
                                </tr>
                                </tbody>
                        </table>
                    </div>
		    </div>
                </div>
                <div class="form-group col-md-4">
                     <h5><span data-ng-if="!checkInFormData.isAdd">Select </span>Body Tech
                     <span class="fa fa-question-circle popover-dismiss pointer-cursor"
                           data-toggle="popover" data-placement="top"
                           data-content="Selecting a tech for the body."
                           data-ng-if="checkInFormData.isAdd">
                     </span>    
                     </h5>  
                     <select class="form-control" data-ng-model="checkInFormData.bodyTech" data-ng-options="tech.id as tech.name for tech in techNames">
                             <option value="">None</option>
                     </select>
                </div>  
                <div class="form-group col-md-4"> <!-- data-ng-if="techNames.length">-->
                     <h5><span data-ng-if="!checkInFormData.isAdd">Select </span>Refinish Tech
                     <span class="fa fa-question-circle popover-dismiss pointer-cursor"
                           data-toggle="popover" data-placement="top"
                           data-content="Selecting a tech for the refinishing."
                           data-ng-if="checkInFormData.isAdd">
                     </span>    
                     </h5>  
                     <select class="form-control" data-ng-model="checkInFormData.refinishTech" data-ng-options="tech.id as tech.name for tech in techNames">
                             <option value="">None</option>
                     </select>
                </div>  
                <div class="form-group col-md-4"> <!-- data-ng-if="techNames.length">-->
                     <h5><span data-ng-if="!checkInFormData.isAdd">Select </span>Service Tech
                     <span class="fa fa-question-circle popover-dismiss pointer-cursor"
                           data-toggle="popover" data-placement="top"
                           data-content="Selecting a tech for the service."
                           data-ng-if="checkInFormData.isAdd">
                     </span>
                     </h5>
                     <select class="form-control" data-ng-model="checkInFormData.serviceTech" data-ng-options="tech.id as tech.name for tech in techNames">
                             <option value="">None</option>
                     </select>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="modal-footer">
                            <button type="submit" id="shopManagerAssignModal" class="btn btn-info" data-ng-click="addAssignment(checkInFormData)"> 
                                Submit
                            </button>
                            <a class="btn btn-default" data-ng-click="checkInFormData.cancel()">Cancel</a>
            </div>
	</div>
    </div>
</div>
